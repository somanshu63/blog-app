{"ast":null,"code":"var _jsxFileName = \"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/profile.js\";\nimport React from \"react\";\nimport ArticlesFeed from \"./articlesFeed\";\nimport Feed from \"./feed\";\nimport fetchData from \"../utils/fetchData\";\nimport HeroProfile from \"./heroProfile\";\nimport { withRouter } from \"react-router-dom\";\nimport Loader from \"./loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet url;\nclass Profile extends React.Component {\n  constructor() {\n    super();\n    this.fetch = url => {\n      fetch(url).then(res => res.json()).then(data => {\n        this.setState({\n          currentUsername: this.props.match.params.username,\n          currentUser: this.props.user,\n          user: data.profile\n        }, () => {\n          fetchData(this.state.myfeed ? `&author=${this.state.user.username}` : `&favorited=${this.state.user.username}`, 0, this.handleState, this.props.user.token);\n        });\n      });\n    };\n    this.handleState = (key, value) => {\n      this.setState({\n        [key]: value\n      }, () => {\n        if (key === \"myfeed\") {\n          fetchData(this.state.myfeed ? `&author=${this.state.user.username}` : `&favorited=${this.state.user.username}`, 0, this.handleState, this.props.user.token);\n        }\n      });\n    };\n    this.state = {\n      articles: null,\n      articlesCount: null,\n      currentUser: \"\",\n      myfeed: true,\n      user: \"\",\n      currentUsername: \"\"\n    };\n  }\n  componentDidMount() {\n    url = `/api/profiles/${this.props.match.params.username}`;\n    this.fetch(url);\n  }\n  componentDidUpdate() {\n    if (this.props.match.params.username !== this.state.currentUsername) {\n      url = `/api/profiles/${this.props.match.params.username}`;\n      this.fetch(url);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: this.state.loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(HeroProfile, {\n          user: this.state.user,\n          currentUser: this.state.currentUser,\n          follow: this.state.currentUser ? this.state.user.username !== this.state.currentUser.username : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3/5 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(Feed, {\n            myfeed: this.state.myfeed,\n            author: true,\n            myArticles: true,\n            favouritedFeed: true,\n            handleState: this.handleState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ArticlesFeed, {\n            articles: this.state.articles,\n            openTag: this.state.openTag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default _c = withRouter(Profile);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","ArticlesFeed","Feed","fetchData","HeroProfile","withRouter","Loader","url","Profile","Component","constructor","fetch","then","res","json","data","setState","currentUsername","props","match","params","username","currentUser","user","profile","state","myfeed","handleState","token","key","value","articles","articlesCount","componentDidMount","componentDidUpdate","render","loading","openTag"],"sources":["/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/profile.js"],"sourcesContent":["import React from \"react\";\nimport ArticlesFeed from \"./articlesFeed\";\nimport Feed from \"./feed\";\nimport fetchData from \"../utils/fetchData\";\nimport HeroProfile from \"./heroProfile\";\nimport { withRouter } from \"react-router-dom\";\nimport Loader from \"./loader\";\nlet url;\n\nclass Profile extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      articles: null,\n      articlesCount: null,\n      currentUser: \"\",\n      myfeed: true,\n      user: \"\",\n      currentUsername: \"\",\n    };\n  }\n  componentDidMount() {\n    url = `/api/profiles/${this.props.match.params.username}`;\n    this.fetch(url);\n  }\n  componentDidUpdate() {\n    if (this.props.match.params.username !== this.state.currentUsername) {\n      url = `/api/profiles/${this.props.match.params.username}`;\n      this.fetch(url);\n    }\n  }\n  fetch = (url) => {\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState(\n          {\n            currentUsername: this.props.match.params.username,\n            currentUser: this.props.user,\n            user: data.profile,\n          },\n          () => {\n            fetchData(\n              this.state.myfeed\n                ? `&author=${this.state.user.username}`\n                : `&favorited=${this.state.user.username}`,\n              0,\n              this.handleState,\n              this.props.user.token\n            );\n          }\n        );\n      });\n  };\n\n  handleState = (key, value) => {\n    this.setState(\n      {\n        [key]: value,\n      },\n      () => {\n        if (key === \"myfeed\") {\n          fetchData(\n            this.state.myfeed\n              ? `&author=${this.state.user.username}`\n              : `&favorited=${this.state.user.username}`,\n            0,\n            this.handleState,\n            this.props.user.token\n          );\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <>\n        {this.state.loading ? (\n          <Loader />\n        ) : (\n          <div>\n            <HeroProfile\n              user={this.state.user}\n              currentUser={this.state.currentUser}\n              follow={\n                this.state.currentUser\n                  ? this.state.user.username !== this.state.currentUser.username\n                  : \"\"\n              }\n            />\n            <div className=\"w-3/5 mx-auto\">\n              <Feed\n                myfeed={this.state.myfeed}\n                author={true}\n                myArticles={true}\n                favouritedFeed={true}\n                handleState={this.handleState}\n              />\n              <ArticlesFeed\n                articles={this.state.articles}\n                openTag={this.state.openTag}\n              />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withRouter(Profile);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}